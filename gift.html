<!DOCTYPE html>
<html lang="ko" class="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Cache-Control" content="no-store">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">
  <title>6ì›”ì„ ë¬¼í•˜ê¸° ì‹œë®¬ë ˆì´í„°</title>
  <style>
    :root {
      --bg-color: #f4f4f4;
      --text-color: #000000;
      --container-bg: #ffffff;
      --border-color: #dddddd;
      --control-bg: #eeeeee;
      --control-hover: #dddddd;
      --th-bg: #f2f2f2;
      --shadow: rgba(0,0,0,0.1);
    }
    html.dark {
      --bg-color: #121212;
      --text-color: #e0e0e0;
      --container-bg: #1e1e1e;
      --border-color: #333333;
      --control-bg: #2c2c2c;
      --control-hover: #3a3a3a;
      --th-bg: #2c2c2c;
      --shadow: rgba(0,0,0,0.5);
    }
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; display: flex; justify-content: center; align-items: flex-start; min-height: 100vh; background-color: var(--bg-color); color: var(--text-color); transition: background-color .3s, color .3s; }
    .container { width: 100%; max-width: 600px; margin: 20px; padding: 15px; background: var(--container-bg); border-radius: 8px; box-shadow: 0 2px 8px var(--shadow); transition: background .3s; }
    h1 { text-align: center; font-size: 1.5rem; margin-bottom: 0.75rem; font-weight: bold; }
    .theme-toggle { position: absolute; top: 10px; right: 10px; }
    .theme-btn { background: none; border: none; font-size: 1.5rem; filter: grayscale(100%); cursor: pointer; transition: filter .3s; color: var(--text-color); }
    footer { text-align:center; font-size:0.8rem; color: var(--text-color); margin-top:8px; }
    .theme-btn:hover { filter: grayscale(0%); }
    .controls { display: flex; gap: 4px; align-items: center; margin-bottom: 0.75rem; }
    .controls button { flex: 1; padding: 0.25rem; font-size: 0.9rem; font-weight: bold; border: 1px solid var(--border-color); border-radius: 4px; background: var(--control-bg); color: var(--text-color); cursor: pointer; transition: background .3s; }
    .controls button:hover { background: var(--control-hover); }
    .controls input { width: 80px; padding: 0.25rem; font-size: 0.9rem; text-align: center; border: 1px solid var(--border-color); border-radius: 4px; background: var(--container-bg); color: var(--text-color); }
    #runBtn { width: 100%; padding: 0.5rem; font-size: 1rem; background-color: #007bff; color: #fff; border: none; border-radius: 4px; cursor: pointer; font-weight: bold; margin-bottom: 0.5rem; }
    #runBtn:hover { background-color: #0056b3; }
    table { width: 100%; border-collapse: collapse; }
    th, td { border: 1px solid var(--border-color); padding: 0.25rem; text-align: center; font-weight: bold; font-size: 0.85rem; line-height: 1.2; }
    th { background-color: var(--th-bg); }
    .color-red    { color: #FF0000; }
    .color-yellow { color: #CCCC00; }
    .color-blue   { color: #0000FF; }
    .color-grey   { color: #808080; }
    @keyframes textBlink { 0%,100% { opacity: 1; } 50% { opacity: 0.3; } }
    .blink { animation: textBlink 1s ease-in-out infinite; }
  </style>
</head>
<body>
  <div class="theme-toggle">
    <button id="toggleTheme" class="theme-btn">ğŸŒ™</button>
  </div>
  <div class="container">
    <a href="index.html">&larr; í™ˆìœ¼ë¡œ</a>
    <h1>6ì›”ì„ ë¬¼í•˜ê¸° ì‹œë®¬ë ˆì´í„°</h1>
    <div class="controls">
      <button data-delta="-100">-100</button>
      <button data-delta="-10">-10</button>
      <input type="number" id="trials" min="1" value="100">
      <button data-delta="10">+10</button>
      <button data-delta="100">+100</button>
    </div>
    <button id="runBtn">ì‹¤í–‰</button>
    <div id="results"></div>
  </div>
  <script>
    const toggleBtn = document.getElementById('toggleTheme');
    toggleBtn.addEventListener('click', () => document.documentElement.classList.toggle('dark'));
    const items = [
      { name: 'ì—¼ì› ì •ê¸°', rate: 0.0030 },
      { name: 'ê³ ê²° ë°©ì–´êµ¬ìƒì', rate: 0.0100 },
      { name: 'ê°•í™” ì£¼ë¬¸ì„œìƒì', rate: 0.0200 },
      { name: 'ì‰í¬(ì „ì„¤)', rate: 0.0900 },
      { name: 'ì „ì„¤ ì¥ë¹„ìƒì', rate: 0.1000 },
      { name: 'ì˜ì›… ë¬´ê¸°ì†Œí™˜ê¶Œ', rate: 0.3000 },
      { name: 'ì „ì„¤ ì†Œí™˜ê¶Œìƒì', rate: 0.1000 },
      { name: 'ì „ì„¤ íŒŒí¸', rate: 0.5500 },
      { name: 'ì˜ì›… íŒŒí¸', rate: 3.0000 },
      { name: 'ë§ˆë²•ë¶€ì—¬ì„ìƒì', rate: 1.0000 },
      { name: 'ì•„ìŠ¤í‹° íŠ¹ë³„ì†Œí™˜ê¶Œìƒì', rate: 3.5000 },
      { name: 'ì°¬ë€ ì†Œí™˜ê¶ŒÃ—2', rate: 18.0000 },
      { name: 'í¬ê·€ ììƒˆ', rate: 4.5000 },
      { name: 'ì˜ì›… ììƒˆ', rate: 1.5000 },
      { name: 'ë³„ ì¡°ê°Ã—10', rate: 8.5000 },
      { name: 'ì”ì¬Ã—300', rate: 15.0000 },
      { name: 'ì¸ì¥Ã—5000', rate: 0.0050 },
      { name: 'ì¸ì¥Ã—300', rate: 0.5000 },
      { name: 'ì¸ì¥Ã—100', rate: 3.0000 },
      { name: 'ì¸ì¥Ã—50', rate: 13.0000 },
      { name: 'ë¬´ê¸°ê¶ŒÃ—100', rate: 0.0100 },
      { name: 'ë¬´ê¸°ê¶ŒÃ—5', rate: 1.0000 },
      { name: 'ë¬´ê¸°ê¶ŒÃ—1', rate: 26.3120 }
    ];
    const colorMap = {
      'ì „ì„¤ ì†Œí™˜ê¶Œìƒì':'yellow','ì „ì„¤ íŒŒí¸':'yellow','ì—¼ì› ì •ê¸°':'yellow','ê³ ê²° ë°©ì–´êµ¬ìƒì':'yellow','ì‰í¬(ì „ì„¤)':'yellow','ì „ì„¤ ì¥ë¹„ìƒì':'yellow',
      'ì˜ì›… ë¬´ê¸°ì†Œí™˜ê¶Œ':'red','ì¸ì¥Ã—300':'red','ë¬´ê¸°ê¶ŒÃ—5':'red','ì˜ì›… íŒŒí¸':'red','ì˜ì›… ììƒˆ':'red','ì¸ì¥Ã—100':'red','ì•„ìŠ¤í‹° íŠ¹ë³„ì†Œí™˜ê¶Œìƒì':'red','ë³„ ì¡°ê°Ã—10':'red','ì°¬ë€ ì†Œí™˜ê¶ŒÃ—2':'red','ì¸ì¥Ã—50':'red','ë¬´ê¸°ê¶ŒÃ—1':'red','ì¸ì¥Ã—5000':'red','ë¬´ê¸°ê¶ŒÃ—100':'red',
      'í¬ê·€ ììƒˆ':'blue','ë§ˆë²•ë¶€ì—¬ì„ìƒì':'grey','ì”ì¬Ã—300':'grey','ê°•í™” ì£¼ë¬¸ì„œìƒì':'grey'
    };
    function getRarity(rate) { if (rate <= 0.01) return 6; if (rate <= 0.1) return 5; if (rate <= 1) return 4; if (rate <= 3) return 3; if (rate <= 10) return 2; return 1; }
    let cum = 0;
    const cumulative = items.map(item => ({ ...item, threshold: (cum += item.rate) / 100, rank: getRarity(item.rate) }));
    document.querySelectorAll('.controls button').forEach(btn => btn.addEventListener('click', () => {
      const inp = document.getElementById('trials');
      inp.value = Math.max(1, parseInt(inp.value) + parseInt(btn.getAttribute('data-delta')));
    }));
    document.getElementById('runBtn').addEventListener('click', () => {
      const trials = parseInt(document.getElementById('trials').value, 10);
      if (trials <= 0) return;
      const counts = cumulative.map(i => ({ ...i, count: 0 }));
      for (let i = 0; i < trials; i++) {
        const r = Math.random();
        for (let it of counts) if (r <= it.threshold) { it.count++; break; }
      }
      counts.sort((a, b) => ((b.count > 0) - (a.count > 0)) || (b.rank - a.rank));
      const blinkNames = ['ì—¼ì› ì •ê¸°','ê³ ê²° ë°©ì–´êµ¬ìƒì','ì‰í¬(ì „ì„¤)','ì „ì„¤ ì¥ë¹„ìƒì'];
      let html = '<table><thead><tr><th>ì•„ì´í…œ</th><th>ê¸°ëŒ€ìˆ˜</th><th>íšë“ìˆ˜</th></tr></thead><tbody>';
      counts.forEach(it => {
        const exp = (it.rate / 100 * trials).toFixed(2);
        const cls = colorMap[it.name] || 'grey';
        const blink = (blinkNames.includes(it.name) && it.count > 0) ? ' blink' : '';
        html += `<tr>
          <td><span class="color-${cls}${blink}">${it.name}</span></td>
          <td><span class="color-${cls}${blink}">${exp}</span></td>
          <td><span class="color-${cls}${blink}">${it.count}</span></td>
        </tr>`;
      });
      html += '</tbody></table>';
      document.getElementById('results').innerHTML = html;
    });
  </script>
  <footer><small>ë²„ì „ v1.3.7</small></footer>
</body>
</html>
